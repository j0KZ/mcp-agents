
> @j0kz/mcp-agents@1.0.28 test:coverage
> npm run test:coverage --workspaces --if-present


> @j0kz/api-designer-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/api-designer[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/designer.test.ts[2m > [22mAPI Designer[2m > [22mshould design REST API[32m 1[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mAPI Designer[2m > [22mshould generate OpenAPI spec[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mAPI Designer[2m > [22mshould create GraphQL schema[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m3 passed[39m[22m[90m (3)[39m
[2m   Start at [22m 18:12:35
[2m   Duration [22m 309ms[2m (transform 46ms, setup 0ms, collect 134ms, tests 3ms, environment 0ms, prepare 64ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   17.14 |    44.18 |   24.24 |   17.14 |                   
 src               |   11.26 |    47.61 |   30.76 |   11.26 |                   
  constants.ts     |       0 |        0 |       0 |       0 | 1-159             
  designer.ts      |   56.38 |    58.82 |   44.44 |   56.38 | ...32-233,239-260 
  designer.ts      |       0 |        0 |       0 |       0 | 1-260             
  index.ts         |       0 |        0 |       0 |       0 | 1-21              
  types.ts         |       0 |        0 |       0 |       0 | 1-313             
 src/generators    |   24.14 |    42.85 |      25 |   24.14 |                   
  ...-generator.ts |    2.65 |      100 |       0 |    2.65 | ...,79-96,102-146 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-146             
  ...-generator.ts |    3.73 |      100 |       0 |    3.73 | 9-47,53-147       
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-147             
  ...-generator.ts |   85.05 |       50 |      80 |   85.05 | ...32-133,142-143 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-394             
 src/validators    |    0.51 |        0 |       0 |    0.51 |                   
  api-validator.ts |    1.19 |      100 |       0 |    1.19 | 10-111            
  api-validator.ts |       0 |        0 |       0 |       0 | 1-111             
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/architecture-analyzer-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/architecture-analyzer[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/analyzer.test.ts[2m > [22mArchitecture Analyzer[2m > [22mshould create analyzer instance[32m 1[2mms[22m[39m
 [32mâœ“[39m src/analyzer.test.ts[2m > [22mArchitecture Analyzer[2m > [22mshould analyze project architecture[32m 5[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 18:12:36
[2m   Duration [22m 214ms[2m (transform 37ms, setup 0ms, collect 39ms, tests 7ms, environment 0ms, prepare 64ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------|---------|----------|---------|---------|-------------------------
File         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s       
-------------|---------|----------|---------|---------|-------------------------
All files    |   24.85 |    63.88 |   67.74 |   24.85 |                         
 analyzer.ts |   58.63 |    46.87 |   68.75 |   58.63 | ...-339,348-370,376-377 
 analyzer.ts |       0 |        0 |       0 |       0 | 1-378                   
 index.ts    |       0 |        0 |       0 |       0 | 1-3                     
 scanner.ts  |   84.61 |    86.11 |    90.9 |   84.61 | ...-155,194-200,210-211 
 scanner.ts  |       0 |        0 |       0 |       0 | 1-212                   
 types.ts    |       0 |        0 |       0 |       0 | 1-58                    
-------------|---------|----------|---------|---------|-------------------------

> @j0kz/db-schema-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/db-schema[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Design[2m > [22mshould design SQL schema[32m 1[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Design[2m > [22mshould design MongoDB schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Design[2m > [22mshould handle complex relationships[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Design[2m > [22mshould include timestamps when requested[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mMigration Generation[2m > [22mshould generate migration[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mMigration Generation[2m > [22mshould generate migration with foreign keys[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mMigration Generation[2m > [22mshould generate MongoDB migration[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mER Diagram Generation[2m > [22mshould generate Mermaid diagram[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mER Diagram Generation[2m > [22mshould generate DBML diagram[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSeed Data Generation[2m > [22mshould generate seed data[32m 1[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSeed Data Generation[2m > [22mshould respect foreign key constraints[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Validation[2m > [22mshould validate schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Validation[2m > [22mshould detect missing primary keys[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mIndex Optimization[2m > [22mshould return index suggestions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/designer.test.ts[2m > [22mDB Schema Designer[2m > [22mSchema Analysis[2m > [22mshould analyze schema complexity[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m15 passed[39m[22m[90m (15)[39m
[2m   Start at [22m 18:12:36
[2m   Duration [22m 263ms[2m (transform 63ms, setup 0ms, collect 72ms, tests 5ms, environment 0ms, prepare 64ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   20.16 |    47.64 |   55.55 |   20.16 |                   
 src               |   12.99 |    43.75 |   58.33 |   12.99 |                   
  constants.ts     |       0 |        0 |       0 |       0 | 1-208             
  designer.ts      |   83.97 |       50 |    87.5 |   83.97 | ...51,290,293-294 
  designer.ts      |       0 |        0 |       0 |       0 | 1-308             
  index.ts         |       0 |        0 |       0 |       0 | 1-7               
  types.ts         |       0 |        0 |       0 |       0 | 1-329             
 src/builders      |   36.27 |    63.33 |      80 |   36.27 |                   
  ...ma-builder.ts |   84.57 |    65.51 |     100 |   84.57 | ...34,141-145,151 
  ...ma-builder.ts |       0 |        0 |       0 |       0 | 1-233             
 src/constants     |   33.12 |        0 |       0 |   33.12 |                   
  schema-limits.ts |     100 |      100 |     100 |     100 |                   
  schema-limits.ts |       0 |        0 |       0 |       0 | 1-109             
 src/generators    |   23.73 |     37.5 |   66.66 |   23.73 |                   
  ...-generator.ts |   49.23 |    33.33 |   66.66 |   49.23 | ...39,64-65,72-94 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-94              
  ...-generator.ts |   77.02 |    38.88 |     100 |   77.02 | ...84,86-87,93-97 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-111             
  ...-generator.ts |   44.44 |    46.66 |   66.66 |   44.44 | ...77,79-80,82-86 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-86              
 src/helpers       |   13.28 |    45.71 |   41.17 |   13.28 |                   
  ...-optimizer.ts |      50 |       50 |     100 |      50 | ...05-113,132-147 
  ...-optimizer.ts |       0 |        0 |       0 |       0 | 1-150             
  ...ion-helper.ts |     7.5 |      100 |       0 |     7.5 | ...,84-98,104-120 
  ...ion-helper.ts |       0 |        0 |       0 |       0 | 1-120             
  sql-builder.ts   |   38.29 |       50 |      50 |   38.29 | ...30,53-62,78-93 
  sql-builder.ts   |       0 |        0 |       0 |       0 | 1-93              
 src/validators    |   25.92 |    58.33 |      50 |   25.92 |                   
  ...-validator.ts |      60 |    60.86 |   66.66 |      60 | 26-33,51-58,64-75 
  ...-validator.ts |       0 |        0 |       0 |       0 | 1-92              
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/doc-generator-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/doc-generator[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/generator.test.ts[2m > [22mDoc Generator[2m > [22mshould generate JSDoc[32m 2[2mms[22m[39m
 [32mâœ“[39m src/generator.test.ts[2m > [22mDoc Generator[2m > [22mshould generate README[32m 1[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 18:12:37
[2m   Duration [22m 224ms[2m (transform 44ms, setup 0ms, collect 47ms, tests 4ms, environment 0ms, prepare 64ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   12.46 |    15.11 |   43.75 |   12.46 |                   
 src               |    5.96 |     7.14 |    12.5 |    5.96 |                   
  generator.ts     |   26.95 |     9.09 |      25 |   26.95 | ...41-149,155-367 
  generator.ts     |       0 |        0 |       0 |       0 | 1-367             
  index.ts         |       0 |        0 |       0 |       0 | 1-22              
  types.ts         |      30 |      100 |       0 |      30 | 637-643           
  types.ts         |       0 |        0 |       0 |       0 | 1-644             
 src/generators    |   21.45 |    23.52 |   66.66 |   21.45 |                   
  ...-generator.ts |      50 |       25 |     100 |      50 | ...07-117,132-140 
  ...-generator.ts |       0 |        0 |       0 |       0 | 1-141             
 src/parsers       |   31.01 |    14.54 |      80 |   31.01 |                   
  source-parser.ts |   75.35 |    14.81 |     100 |   75.35 | ...67-183,187-200 
  source-parser.ts |       0 |        0 |       0 |       0 | 1-203             
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/refactor-assistant-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/refactor-assistant[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould remove completely unused imports[32m 2[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould keep used imports[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould remove only unused imports from mixed usage[32m 1[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle multiple import statements[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould skip lines that are too long[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle imports with no usage in code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle word boundaries correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould preserve imports used in comments when testing[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle empty import list after filtering[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle partially used imports and update import statement[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle imports with special characters in names[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mremoveUnusedImportsFromCode[2m > [22mshould handle code with no imports[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould escape special regex characters[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould escape brackets and parentheses[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould escape anchors and pipes[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould escape backslashes[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould handle strings with multiple special characters[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould handle empty string[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould handle string with no special characters[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mescapeRegExp[2m > [22mshould escape dollar sign used in identifiers[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mIntegration[2m > [22mshould correctly use escapeRegExp in import detection[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/import-helpers.test.ts[2m > [22mImport Helpers[2m > [22mIntegration[2m > [22mshould handle complex real-world scenario[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export extractFunction[32m 1[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export convertToAsync[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export simplifyConditionals[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export removeDeadCode[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export applyDesignPattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export renameVariable[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export suggestRefactorings[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mFunction Exports[2m > [22mshould export calculateMetrics[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mMetadata Exports[2m > [22mshould export VERSION constant[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mMetadata Exports[2m > [22mshould export NAME constant[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mMetadata Exports[2m > [22mshould export DESCRIPTION constant[32m 0[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mPackage Integrity[2m > [22mshould have all expected exports[32m 1[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts[2m > [22mPackage Exports[2m > [22mPackage Integrity[2m > [22mshould not have unexpected exports[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould extract function[32m 1[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould detect parameters in extracted code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould handle arrow function option[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould handle async option[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail for invalid line range[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail for missing startLine parameter[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail for missing endLine parameter[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail when startLine is less than 1[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail when endLine exceeds total lines[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould fail when startLine > endLine[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould handle async function with return value[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould extract multi-line code block with proper indentation[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould extract function with no parameters[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould handle exception during extraction[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mextractFunction[2m > [22mshould extract arrow function with return value[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mconvertToAsync[2m > [22mshould convert to async[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mconvertToAsync[2m > [22mshould convert Promise chains to async/await[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mconvertToAsync[2m > [22mshould add try block when requested[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mconvertToAsync[2m > [22mshould skip try/catch when not requested[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mconvertToAsync[2m > [22mshould reject code that is too large[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msimplifyConditionals[2m > [22mshould simplify conditionals[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msimplifyConditionals[2m > [22mshould apply guard clauses[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msimplifyConditionals[2m > [22mshould combine nested conditions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msimplifyConditionals[2m > [22mshould convert simple if/else to ternary[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould rename variable[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould rename with word boundaries[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould rename in comments when requested[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould skip comments by default[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould reject invalid identifiers[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould fail when variable not found in code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould fail when oldName is empty[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould fail when newName is empty[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould handle renaming with special regex characters[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould show correct occurrence count in changes[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mrenameVariable[2m > [22mshould handle exception during variable renaming[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mremoveDeadCode[2m > [22mshould remove unused variables[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mremoveDeadCode[2m > [22mshould remove unreachable code after return[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mremoveDeadCode[2m > [22mshould remove unused imports[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mremoveDeadCode[2m > [22mshould handle empty code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply singleton pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply factory pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply observer pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply strategy pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould reject invalid pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply decorator pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply adapter pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply facade pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply proxy pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply command pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply chain-of-responsibility pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould extract class name for singleton pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould use custom className option for factory pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould handle empty code input for patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply decorator with custom decorator class[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mapplyDesignPattern[2m > [22mshould apply proxy with lazy initialization[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould suggest refactorings for complex code[32m 1[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould suggest extracting long functions[32m 2[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould suggest simplifying nested conditions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould handle simple code without suggestions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould suggest converting callbacks to async/await[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould include snippet and rationale in suggestions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22msuggestRefactorings[2m > [22mshould detect multiple callback patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mcalculateMetrics[2m > [22mshould calculate code metrics[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mcalculateMetrics[2m > [22mshould detect high complexity[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mcalculateMetrics[2m > [22mshould calculate nesting depth[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mcalculateMetrics[2m > [22mshould handle empty code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mfindDuplicateBlocks[2m > [22mshould detect duplicate code blocks[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mfindDuplicateBlocks[2m > [22mshould ignore small blocks[32m 0[2mms[22m[39m
 [32mâœ“[39m src/refactorer.test.ts[2m > [22mRefactor Assistant[2m > [22mfindDuplicateBlocks[2m > [22mshould handle code without duplicates[32m 0[2mms[22m[39m
[90mstderr[2m | src/mcp-server.test.ts[2m > [22m[2mMCP Server Integration[2m > [22m[2mTool Definitions[2m > [22m[2mshould export 8 refactoring tools
[22m[39mRefactoring Assistant MCP Server running on stdio

 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould export 8 refactoring tools[32m 83[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define extract_function tool with correct schema[32m 1[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define convert_to_async tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define simplify_conditionals tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define remove_dead_code tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define apply_pattern tool with all 10 design patterns[32m 1[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define rename_variable tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define suggest_refactorings tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Definitions[2m > [22mshould define calculate_metrics tool with correct schema[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Name Coverage[2m > [22mshould have unique tool names[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Name Coverage[2m > [22mshould use snake_case for all tool names[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mInput Schema Validation[2m > [22mshould have object type for all input schemas[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mInput Schema Validation[2m > [22mshould have required fields defined for tools that need them[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mInput Schema Validation[2m > [22mshould have code parameter in all tool schemas[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Descriptions[2m > [22mshould have non-empty descriptions for all tools[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Descriptions[2m > [22mshould have property descriptions in schemas[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mMCP Protocol Compliance[2m > [22mshould follow MCP tool schema structure[32m 1[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mMCP Protocol Compliance[2m > [22mshould use correct property types in schemas[32m 1[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mBoolean Default Values[2m > [22mshould have correct defaults for extract_function[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mBoolean Default Values[2m > [22mshould have correct defaults for convert_to_async[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mBoolean Default Values[2m > [22mshould have correct defaults for simplify_conditionals[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mBoolean Default Values[2m > [22mshould have correct defaults for remove_dead_code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mBoolean Default Values[2m > [22mshould have correct defaults for rename_variable[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mDesign Pattern Enum Validation[2m > [22mshould include all structural patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mDesign Pattern Enum Validation[2m > [22mshould include all behavioral patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mDesign Pattern Enum Validation[2m > [22mshould include all creational patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mOptional Parameters[2m > [22mshould mark optional parameters correctly in extract_function[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mOptional Parameters[2m > [22mshould mark optional parameters correctly in apply_pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mOptional Parameters[2m > [22mshould mark optional parameters correctly in suggest_refactorings[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Types[2m > [22mshould use number type for line numbers[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Types[2m > [22mshould use boolean type for flags[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Types[2m > [22mshould use string type for code and names[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Types[2m > [22mshould use object type for patternOptions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Descriptions[2m > [22mshould describe line number format[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mParameter Descriptions[2m > [22mshould describe rename_variable validation[32m 0[2mms[22m[39m
 [32mâœ“[39m src/mcp-server.test.ts[2m > [22mMCP Server Integration[2m > [22mTool Count and Coverage[2m > [22mshould have exactly 8 tools matching refactorer exports[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould extract message from Error object[32m 1[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould return default message for string error[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould return default message for number error[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould return default message for null[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould return default message for undefined[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould return default message for object without message[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould handle TypeError instances[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mgetErrorMessage[2m > [22mshould handle ReferenceError instances[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould create failed result with string error[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould create failed result with Error object[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould preserve original code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould always have empty changes array[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould handle TypeError as Error object[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould handle empty error message[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mcreateFailedResult[2m > [22mshould handle multiline code[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mIntegration[2m > [22mshould work together in error handling flow[32m 0[2mms[22m[39m
 [32mâœ“[39m src/utils/error-helpers.test.ts[2m > [22mError Helpers[2m > [22mIntegration[2m > [22mshould handle unknown error types in flow[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould convert if-else to guard clause[32m 1[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould convert if-else with return value to guard clause[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould handle guard clause with complex return value[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould not change code without matching pattern[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould handle multiple guard clause opportunities[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mapplyGuardClauses[2m > [22mshould handle code with no else clause[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould combine nested if statements[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould handle multiple nested conditions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould handle nested conditions with complex bodies[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould not change code without nested conditions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould handle empty result when no pattern matches[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mcombineNestedConditions[2m > [22mshould preserve spacing in combined conditions[32m 0[2mms[22m[39m
 [32mâœ“[39m src/transformations/conditional-helpers.test.ts[2m > [22mConditional Helpers[2m > [22mIntegration[2m > [22mshould work together on complex code[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m170 passed[39m[22m[90m (170)[39m
[2m   Start at [22m 18:12:38
[2m   Duration [22m 506ms[2m (transform 219ms, setup 0ms, collect 344ms, tests 123ms, environment 1ms, prepare 452ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   27.06 |    84.53 |    73.8 |   27.06 |                   
 src               |   24.71 |    79.71 |   66.66 |   24.71 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-42              
  refactorer.ts    |   85.22 |    83.33 |     100 |   85.22 | ...65-271,317-323 
  refactorer.ts    |       0 |        0 |       0 |       0 | 1-462             
  types.ts         |       0 |        0 |       0 |       0 | 1-370             
 src/analysis      |   39.03 |    90.47 |   83.33 |   39.03 |                   
  ...calculator.ts |     100 |       95 |     100 |     100 | 34                
  ...calculator.ts |       0 |        0 |       0 |       0 | 1-114             
 src/constants     |   32.59 |        0 |       0 |   32.59 |                   
  ...ing-limits.ts |     100 |      100 |     100 |     100 |                   
  ...ing-limits.ts |       0 |        0 |       0 |       0 | 1-122             
 src/core          |   30.43 |    85.71 |      75 |   30.43 |                   
  ...t-function.ts |   77.77 |     87.8 |     100 |   77.77 | ...10-116,189-195 
  ...t-function.ts |       0 |        0 |       0 |       0 | 1-196             
 src/patterns      |   14.88 |    92.85 |    90.9 |   14.88 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-303             
 ...ransformations |   40.27 |     87.5 |    62.5 |   40.27 |                   
  ...is-helpers.ts |     100 |    81.81 |     100 |     100 | 26,30             
  ...is-helpers.ts |       0 |        0 |       0 |       0 | 1-44              
  ...al-helpers.ts |     100 |      100 |     100 |     100 |                   
  ...al-helpers.ts |       0 |        0 |       0 |       0 | 1-32              
  ...rt-helpers.ts |     100 |      100 |     100 |     100 |                   
  ...rt-helpers.ts |       0 |        0 |       0 |       0 | 1-56              
 src/utils         |   26.66 |    85.71 |   66.66 |   26.66 |                   
  error-helpers.ts |     100 |      100 |     100 |     100 |                   
  error-helpers.ts |       0 |        0 |       0 |       0 | 1-33              
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/security-scanner-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/security-scanner[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mscanFile[2m > [22mshould scan file without errors[32m 5[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mscanFile[2m > [22mshould detect SQL injection vulnerability[32m 2[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mscanFile[2m > [22mshould detect XSS vulnerability[32m 2[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mscanFile[2m > [22mshould run secret scanning without errors[32m 1[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mcalculateEntropy[2m > [22mshould calculate entropy for random string[32m 0[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mcalculateEntropy[2m > [22mshould return 0 for empty string[32m 0[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mcalculateEntropy[2m > [22mshould calculate higher entropy for random data[32m 0[2mms[22m[39m
 [32mâœ“[39m src/scanner.test.ts[2m > [22mSecurity Scanner[2m > [22mcalculateEntropy[2m > [22mshould detect high entropy strings[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m8 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 18:12:39
[2m   Duration [22m 291ms[2m (transform 69ms, setup 0ms, collect 106ms, tests 11ms, environment 0ms, prepare 65ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   22.44 |    66.23 |   45.16 |   22.44 |                   
 src               |   14.07 |       70 |   52.63 |   14.07 |                   
  constants.ts     |       0 |        0 |       0 |       0 | 1-158             
  index.ts         |       0 |        0 |       0 |       0 | 1-35              
  scanner.ts       |   32.51 |       50 |   66.66 |   32.51 | ...11-121,129-244 
  scanner.ts       |       0 |        0 |       0 |       0 | 1-244             
  types.ts         |     100 |      100 |     100 |     100 |                   
  types.ts         |       0 |        0 |       0 |       0 | 1-224             
  utils.ts         |   79.26 |     87.5 |      75 |   79.26 | ...05-109,131-132 
  utils.ts         |       0 |        0 |       0 |       0 | 1-134             
 src/constants     |   41.32 |        0 |       0 |   41.32 |                   
  ...t-patterns.ts |     100 |      100 |     100 |     100 |                   
  ...t-patterns.ts |       0 |        0 |       0 |       0 | 1-135             
  ...thresholds.ts |     100 |      100 |     100 |     100 |                   
  ...thresholds.ts |       0 |        0 |       0 |       0 | 1-122             
 src/scanners      |   23.45 |    65.71 |      40 |   23.45 |                   
  ...cy-scanner.ts |    10.9 |      100 |       0 |    10.9 | 17-78             
  ...cy-scanner.ts |       0 |        0 |       0 |       0 | 1-78              
  owasp-scanner.ts |   45.65 |    63.63 |     100 |   45.65 | ...,79-95,105-121 
  owasp-scanner.ts |       0 |        0 |       0 |       0 | 1-125             
  ...et-scanner.ts |      46 |    85.71 |     100 |      46 | 40-70             
  ...et-scanner.ts |       0 |        0 |       0 |       0 | 1-75              
  ...on-scanner.ts |     100 |      100 |     100 |     100 |                   
  ...on-scanner.ts |       0 |        0 |       0 |       0 | 1-63              
  xss-scanner.ts   |   92.45 |    71.42 |     100 |   92.45 | 33-34,42-43       
  xss-scanner.ts   |       0 |        0 |       0 |       0 | 1-74              
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/smart-reviewer-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/smart-reviewer[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/analyzer.test.ts[2m > [22mSmart Reviewer[2m > [22mshould review file[32m 10[2mms[22m[39m
 [32mâœ“[39m src/analyzer.test.ts[2m > [22mSmart Reviewer[2m > [22mshould have score[32m 1[2mms[22m[39m
[90mstderr[2m | src/auto-fixer.test.ts[2m > [22m[2mAutoFixer[2m > [22m[2medge cases[2m > [22m[2mshould handle invalid syntax gracefully
[22m[39mCannot parse test.ts for auto-fixing: SyntaxError: Unexpected token (2:11)
    at toParseError [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parse-error.ts:95:45[90m)[39m
    at TypeScriptParserMixin.raise [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\tokenizer\index.ts:1503:19[90m)[39m
    at TypeScriptParserMixin.unexpected [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\tokenizer\index.ts:1543:16[90m)[39m
    at TypeScriptParserMixin.parsePropertyName [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:2441:18[90m)[39m
    at TypeScriptParserMixin.parsePropertyDefinition [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:2188:10[90m)[39m
    at TypeScriptParserMixin.parseObjectLike [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:2085:21[90m)[39m
    at TypeScriptParserMixin.parseExprAtom [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:1174:21[90m)[39m
    at TypeScriptParserMixin.parseExprAtom [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\plugins\jsx\index.ts:583:22[90m)[39m
    at TypeScriptParserMixin.parseExprSubscripts [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:734:23[90m)[39m
    at TypeScriptParserMixin.parseUpdate [90m(d:\Users\j0KZ\Documents\Coding\my-claude-agents\packages\smart-reviewer\[39mnode_modules\[4m@babel[24m\parser\src\parser\expression.ts:713:21[90m)[39m {
  code: [32m'BABEL_PARSER_SYNTAX_ERROR'[39m,
  reasonCode: [32m'UnexpectedToken'[39m,
  loc: Position { line: [33m2[39m, column: [33m11[39m, index: [33m12[39m },
  pos: [33m12[39m,
  syntaxPlugin: [90mundefined[39m
}

 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould detect unused named imports[32m 9[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould detect unused default imports[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould NOT mark side-effect imports as unused[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould detect JSX component usage[32m 2[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould detect namespace import usage[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindUnusedImports[2m > [22mshould detect import used in type annotation[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindConsoleLogs[2m > [22mshould detect console.log statements[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindConsoleLogs[2m > [22mshould detect console.warn and console.error[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindConsoleLogs[2m > [22mshould handle console.log with multiple arguments[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindNullAccess[2m > [22mshould suggest optional chaining for potential null access[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindNullAccess[2m > [22mshould NOT suggest optional chaining for window object[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindNullAccess[2m > [22mshould NOT suggest optional chaining for this[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindNullAccess[2m > [22mshould NOT suggest if already has optional chaining[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mfindNullAccess[2m > [22mshould skip Node.js global objects[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mapplyFixes[2m > [22mshould apply safe fixes correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mapplyFixes[2m > [22mshould preserve line numbers when removing lines[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mapplyFixes[2m > [22mshould handle multiple fixes on same line (column-aware)[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mapplyFixes[2m > [22mshould NOT apply unsafe fixes[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22medge cases[2m > [22mshould handle invalid syntax gracefully[32m 26[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22medge cases[2m > [22mshould handle empty files[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22medge cases[2m > [22mshould handle files with only comments[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22medge cases[2m > [22mshould handle very long lines safely[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mconfidence scoring[2m > [22mshould assign correct confidence scores[32m 1[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22msummary statistics[2m > [22mshould calculate correct summary[32m 0[2mms[22m[39m
 [32mâœ“[39m src/auto-fixer.test.ts[2m > [22mAutoFixer[2m > [22mgenerateDiff[2m > [22mshould generate readable diff output[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m27 passed[39m[22m[90m (27)[39m
[2m   Start at [22m 18:12:39
[2m   Duration [22m 478ms[2m (transform 102ms, setup 0ms, collect 331ms, tests 62ms, environment 0ms, prepare 134ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   27.17 |    55.62 |   47.05 |   27.17 |                   
 src               |   26.18 |    74.35 |   44.44 |   26.18 |                   
  analyzer.ts      |   54.76 |      100 |    37.5 |   54.76 | ...75-176,182-183 
  analyzer.ts      |       0 |        0 |       0 |       0 | 1-184             
  auto-fixer.ts    |   95.34 |    83.33 |     100 |   95.34 | 156-157,174-175   
  auto-fixer.ts    |       0 |        0 |       0 |       0 | 1-181             
  constants.ts     |     100 |      100 |     100 |     100 |                   
  constants.ts     |       0 |        0 |       0 |       0 | 1-80              
  index.ts         |       0 |        0 |       0 |       0 | 1-2               
  types.ts         |       0 |        0 |       0 |       0 | 1-41              
 src/analyzers     |   20.71 |    39.34 |   44.44 |   20.71 |                   
  code-quality.ts  |   45.08 |       44 |     100 |   45.08 | ...37-147,152-158 
  code-quality.ts  |       0 |        0 |       0 |       0 | 1-162             
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-10              
  metrics.ts       |    70.4 |    40.62 |     100 |    70.4 | ...52-153,160-161 
  metrics.ts       |       0 |        0 |       0 |       0 | 1-164             
  patterns.ts      |       0 |      100 |       0 |       0 | 10-35             
  patterns.ts      |       0 |        0 |       0 |       0 | 1-35              
 src/constants     |      40 |        0 |       0 |      40 |                   
  auto-fixer.ts    |     100 |      100 |     100 |     100 |                   
  auto-fixer.ts    |       0 |        0 |       0 |       0 | 1-27              
 src/fixers        |   34.67 |       62 |   52.17 |   34.67 |                   
  base-fixer.ts    |     100 |    66.66 |     100 |     100 | 46                
  base-fixer.ts    |       0 |        0 |       0 |       0 | 1-75              
  ...-log-fixer.ts |   89.74 |    42.85 |      50 |   89.74 | 18-19,22-23       
  ...-log-fixer.ts |       0 |        0 |       0 |       0 | 1-56              
  index.ts         |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-4               
  ...heck-fixer.ts |   93.54 |    64.28 |      60 |   93.54 | 35-36,39-40       
  ...heck-fixer.ts |       0 |        0 |       0 |       0 | 1-89              
  ...port-fixer.ts |      80 |    80.95 |   71.42 |      80 | 18-19,22-23,70-81 
  ...port-fixer.ts |       0 |        0 |       0 |       0 | 1-108             
-------------------|---------|----------|---------|---------|-------------------

> @j0kz/test-generator-mcp@1.0.28 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90md:/Users/j0KZ/Documents/Coding/my-claude-agents/packages/test-generator[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/generator.test.ts[2m > [22mTest Generator[2m > [22mshould generate tests[32m 2[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 18:12:40
[2m   Duration [22m 212ms[2m (transform 35ms, setup 0ms, collect 37ms, tests 4ms, environment 0ms, prepare 68ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
--------------|---------|----------|---------|---------|------------------------
File          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s      
--------------|---------|----------|---------|---------|------------------------
All files     |   23.37 |    48.38 |      68 |   23.37 |                        
 generator.ts |   68.58 |    45.83 |   77.77 |   68.58 | ...258,293-294,304-305 
 generator.ts |       0 |        0 |       0 |       0 | 1-357                  
 index.ts     |       0 |        0 |       0 |       0 | 1-3                    
 parser.ts    |      50 |       80 |     100 |      50 | 72-130                 
 parser.ts    |       0 |        0 |       0 |       0 | 1-135                  
 types.ts     |       0 |        0 |       0 |       0 | 1-49                   
--------------|---------|----------|---------|---------|------------------------
